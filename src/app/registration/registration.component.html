<div class="registration">
  <div class="registrationForm" (submit)="onSubmit()">
    <div class="form-header">
      <img src="./imgs/cisLogo.png" alt="Logo" class="form-logo" />
      <select
        id="languageSelect"
        class="languageSelect"
        (change)="changeLanguage($event)"
        aria-label="Language"
      >
        <option value="en">en</option>
        <option value="ar">ar</option>
      </select>
    </div>

    <!-- Name Input -->
    <div class="input-container">
      <input
        class="textInp"
        type="text"
        name="Name"
        id="nameInput"
        (focus)="onInputFocus($event)"
        (blur)="onInputBlur($event)"
        required
      />
      <label for="nameInput">Name</label>
    </div>

    <!-- Email Input -->
    <div class="input-container">
      <input
        class="textInp"
        type="email"
        name="Email"
        id="emailInput"
        (focus)="onInputFocus($event)"
        (blur)="onInputBlur($event)"
        required
      />
      <label for="emailInput">Email</label>
    </div>

    <!-- Phone Number Input -->
    <div class="input-container">
      <input
        class="textInp"
        type="text"
        name="PhoneNumber"
        id="phoneNumberInput"
        (focus)="onInputFocus($event)"
        (blur)="onInputBlur($event)"
        required
      />
      <label for="phoneNumberInput">Phone Number</label>
    </div>

    <!-- Dropdown for Selecting Preferred Branch -->
    <div class="input-container branchInputContainer">
      <select
        class="branchSelect"
        id="branchSelect"
        name="branch"
        (change)="setBranch($event)"
        required
      >
        <option [value]="{}" disabled selected>Select your branch</option>
        <option *ngFor="let branch of branches" [value]="branch.branchcode">
          {{ branch.branchname }}, {{ branch.branchcode }}
        </option>
      </select>
      <div class="locateBtn" *ngIf="selectedBranch.branchcode" (click)="openLocation()">
        <img class="locateBtnImg" src="./imgs/MapsLogo.png" alt="Locate" />
      </div>
    </div>

    <!-- Folder Upload Section -->
    <div class="file-container">
      <input
        class="fileInput"
        type="file"
        name="attachments"
        id="fileInput"
        (change)="previewFolders($event)"
        webkitdirectory directory multiple
      />
      <label for="fileInput" class="fileLabel">
        Drag & Drop folders here, or click to upload
      </label>
    </div>

    <!-- File Upload Section -->
    <div class="file-container">
      <input
        class="fileInput"
        type="file"
        name="attachments"
        id="fileInput"
        (change)="previewFiles($event)"
        multiple
      />
      <label for="fileInput" class="fileLabel">
        Drag & Drop files here or click to upload
      </label>
    </div>

    <!-- File Preview Section -->
    <div class="file-preview-list" *ngIf="filesPreview.length">
      <div class="file-preview-item" *ngFor="let file of filesPreview; let i = index">
        <img *ngIf="file.src" [src]="file.src" alt="{{ file.name }}" class="preview-image" />
        <span class="preview-file-name">{{ file.name }}</span>
        <button type="button" class="remove-file-btn" (click)="removeFile(i)">Ã—</button>
      </div>
    </div>

    <!-- Submit Button -->
    <button type="submit" class="submitBtn">Submit</button>
  </div>
</div>
